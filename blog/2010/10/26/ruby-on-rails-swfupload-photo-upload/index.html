<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html lang='en-US' xml:lang='en-US' xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Ruby on Rails swfupload photo upload</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="keywords" content="ruby on rails new york, cross platform mobile development, ror developer, nyc ruby consulting, nyc rails consulting, open source development, software consulting, " />
    <meta name="description" content="We are a Web 2.0 consulting firm, specializing in Ruby on Rails and dynamic web application development. We are located in the heart of New York City. We have many happy clients, including startups and established companies." />
    <link rel="stylesheet" type="text/css" href="../../../../../stylesheets/jquery-ui-1.8.4.custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../stylesheets/style.css" />
    <link rel="stylesheet" type="text/css" title="Default" href="../../../../../stylesheets/github.css" />
    <!--[if IE ]>
        <link rel="stylesheet" type="text/css" href="/stylesheets/ie7.css" />
    <![endif]-->
    <script type="text/javascript" src="../../../../../javascripts/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="../../../../../javascripts/jquery-ui-1.8.4.custom.min.js"></script>
    <script type="text/javascript" src="../../../../../javascripts/jquery.cycle.js"></script>
    <script type="text/javascript" src="../../../../../javascripts/highlight.pack.js"></script>
    <script type="text/javascript">
      $(document).ready(function(){
        $('.button-comment').click(function(){
          if($('#comment_answer').val()== '2'){
            alert("Your comment will display after approved, thank you");
          }else{
            return false;
          }
        });
      });
    </script>
    <script type="text/javascript">
      hljs.tabReplace = '    ';
      hljs.initHighlightingOnLoad();

  
    </script>
    <script type="text/javascript">
//<![CDATA[
  function menuFix() {
   var sfEls = document.getElementById("nav").getElementsByTagName("li");
   for (var i=0; i<sfEls.size; i++) {
    sfEls[i].onmouseover=function() {
    this.className+=(this.className.size>0? " ": "") + "sfhover";
    }
    sfEls[i].onMouseDown=function() {
    this.className+=(this.className.size>0? " ": "") + "sfhover";
    }
    sfEls[i].onMouseUp=function() {
    this.className+=(this.className.size>0? " ": "") + "sfhover";
    }
    sfEls[i].onmouseout=function() {
    this.className=this.className.replace(new RegExp("( ?|^)sfhover\\b"), 
  "");
    }
   }
  }
  window.onload=menuFix;
//]]> 
</script>


<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-16067353-4']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
  </head>
  <body>
    <div class="outer_wrap_blog">
    <div class="inner_wrap">
      <div class="header">
	 <div class="floatleft logo">
	    <a href="../../../../../index.html"><img src="../../../../../images/logo.jpg" alt="logo" /></a>	  </div>
	   <div id="nav">
			<ul>
			  <li class="currunt"><a href="../../../../../index.html">Home</a></li>
			  <li>
			    <a href="../../../../../services/how-do-we-work.html" class="menu-arrow">Service</a>
				<ul>
				  	<li><a href="../../../../../services/how-do-we-work.html">How do we work?</a></li>
					<li><a href="../../../../../services/what-do-we-do.html">What do we do?</a></li>
					<li><a href="../../../../../services/mobile-development.html">Mobile development</a></li>
					<li><a href="../../../../../services/ruby-on-rails-web-development.html">Ruby on Rails</a> </li>
                                        <li><a href="../../../../../services/e-commerce.html">E-Commerce</a></li>
				</ul>
			  </li>
			  <li><a href="../../../../../portfolio">Portfolio</a></li>
			  <li><a href="../../../../../blog/index.html">Blog</a></li>
			  <li>
			    <a href="../../../../../people/team.html"  class="menu-arrow">People</a>
				<ul>
				  	<li><a href="../../../../../people/team.html">Team</a></li>
					<li><a href="../../../../../people/partners.html">Partners</a></li>
				</ul>
			  </li>
			  <li>
			  	<a href="../../../../../contact/contact-us"  class="menu-arrow">Contact</a>
				<ul>
				 	<li><a href="../../../../../contact/contact-us">Contact us</a></li>
					<li><a href="../../../../../contact/new-product-launch">New Product Launch</a></li>
					<li><a href="../../../../../contact/careers">Careers</a></li>
					<li class="clear"></li>
				</ul>
			</li>
			<li class="clear"></li>
			</ul>
		  </div>
	
		<div class="topArrow_blog">
	     <img src="../../../../../images/arrow-top.png" alt="arrow" />	   </div>
	</div>
	<div class="banner-title">Blog  </div>
	<div class="blog_content">
	  <div class="blog_list floatleft">
            
              
                <div class="blog_box ">
                  <h2  class="font-green b">Ruby on Rails swfupload photo upload</h2>
                  <p class="font-gray">Posted by cloud on <span class="font-brown b">October 26, 2010</span> | 2 comments</p>
                </div>
              
            
            <p>swfupload is widely used on many web apps，especially the ones powered by ruby on rails.Compared to Paperclip, which only can upload apicture a time，swfupload enables users to upload multiple pictures at same time with a very user-friendly interface and minimized number of clicks.</p>
<p>Enviroment：rails 2.3.5   database: mysql</p>
<p>The following address:<br />
<a href="http://github.com/imustardsoft/swfupload-paperclip-image">http://github.com/imustardsoft/swfupload-paperclip-image</a></p>
<p>Just make sure you have the required gems, run the database migration, and start the server.<br />
<pre><code>
rake db:create  //note password same
sudo rake gems:install
rake db:migrate
script/server
</code></pre><br />
browse to http://localhost:3000/photos/new</p>
<p>below is the controller code that creates and stores the photos.<br />
photos_controller.rb<br />
<pre><code>
def create
  @photo = Photo.new(:swfupload_file =&gt; params[:Filedata])
  if @photo.save
    render :text =&gt; "#{@photo.file.url(:medium)}"
    //text content is photo url
  end
end
</code></pre></p>
<p>Below is the javascript that works with swf component.<br />
handlers.js<br />
<pre><code>
function uploadSuccess(file, serverData) {
    //serverDate is photos_controller render text content, this is photo url
	try {
		var progress = new FileProgress(file,  this.customSettings.upload_target);
		if (serverData.substring(0, 11) === "/attachment") {
			addImage(serverData);//to  addImage method
			progress.setStatus("Upload Successfull.");
			progress.toggleCancel(false);
		} else {
			addImage("/images/swfupload/error.gif");
			progress.setStatus("Error.");
			progress.toggleCancel(false);
		}
	} catch (ex) {
		this.debug(ex);
	}
}
function addImage(src) {
    //add image to html
    //src is a photo url
    var append_photo = "&lt;div class='photo_style'&gt;&lt;img src='"+src+"' width='100' height='100' class='image_style'/&gt;&lt;/div&gt;"
    var contiar = document.getElementById("thumbnails");
    contiar.innerHTML += append_photo;
}
</code></pre></p>
<p>if you want to show some cool ajax effects, you can modify addImage method.</p>
	
            <br/><br/>
            
              
                
  <div class="comments">
    <h2>Comments</h2>
    
      
  <div class="comment" id="comment-436">
    <p class="author">
      <a href="http://Andie" class="author-name" title="Visit Andie's website">
      Andie
      </a>
      <span class="font-gray">said on <span class="font-brown">Friday, July 01, 2011</span></span>
    </p>
    
    <div class="content_html"><p>AFAICT you've covered all the bases with this awnser!</p></div>
    
    
  </div>


    
      
  <div class="comment" id="comment-583">
    <p class="author">
      <a href="http://Cami" class="author-name" title="Visit Cami's website">
      Cami
      </a>
      <span class="font-gray">said on <span class="font-brown">Saturday, October 22, 2011</span></span>
    </p>
    
    <div class="content_html"><p>I found just what I was needed, and it was enteratniing!</p></div>
    
    
  </div>


    
  </div>

<h3 class="underline"></h3>

<div class="blog_reply">
  
     <form action="/blog/2010/10/26/ruby-on-rails-swfupload-photo-upload/comments" method="post" >
      <h4 class="font-green">Post a comment</h4>
      
      <p><label for="comment_author">Your Name</label>
      
      <input type="text" id="comment_author" name="comment[author]" class="required" /></p>

      <p><label class="comment-label" for="comment_author_email">Your Email Address <span>(required, but not displayed)</span></label>
      
      <input type="text" id="comment_author_email" name="comment[author_email]" class="required" /></p>

      <p><label class="comment-label" for="comment_author_url">Your Web Address  <span>(optional)</span></label>
      
      <input type="text" id="comment_author_url" name="comment[author_url]" /></p>

      <p><label for="comment_content">Your Comment</label>
      
      <textarea id="comment_content" name="comment[content]" class="required" rows="9" cols="40"></textarea></p>

      <p><label class="comment-label" for="comment_answer">1 + 1 =?<span>(required)</span></label>
      <input type="text" id="comment_answer" name="comment[answer]" /></p>

      

      <p><input type="submit" id="submit" name="submit" class="button-comment" value=""  /></p>

    </form>
  
</div>

      
                 
            
			
	</div>
		<div class="blog_nav floatright">
                        <div class="Subscribe">
				<h4>Sign Up for Newsletter</h4>
				<form action="/subscriber_actions/register" method="post">
				  <p style="margin-left:8px;">
                                    <label>Email Address</label><input name="subscriber[email]" type="text" style=" width:226px;"/>
                                    <input type="hidden" name="subscriber[password]" value="123456" />
                                  </p>
				  <p style="margin-left:8px; margin-top:5px;"><input type="submit" name="submit" value id="subscribe" class="subscribe_but"/></p>
                                </form>
                                <p class="space03"><a href="../../../../../rss/index.html">Blog RSS feed<img src="../../../../../images/icon-rss.gif" class="space_l3" alt="rss" /></a></p>
			</div>
			<div class="blog_readmore">
				<h4>Read More</h4>
                                <ul>
                                  
                                  
                                  <li><span style="color: #84afdd;margin-right: 5px;"> > </span><a href="../../../../2012/11/index.html">November 2012</a></li>
                                  
                                  <li><span style="color: #84afdd;margin-right: 5px;"> > </span><a href="../../../../2012/08/index.html">August 2012</a></li>
                                  
                                  <li><span style="color: #84afdd;margin-right: 5px;"> > </span><a href="../../../../2012/03/index.html">March 2012</a></li>
                                  
                                  <li><span style="color: #84afdd;margin-right: 5px;"> > </span><a href="../../../../2012/01/index.html">January 2012</a></li>
                                  
                                  
                                  
                                  
                                  
                                  <li><span style="color: #84afdd;margin-right: 5px;"> > </span><a href="../../../../2011/12/index.html">December 2011</a></li>
                                  
                                  
                                  
                                  <li><span style="color: #84afdd;margin-right: 5px;"> > </span><a href="../../../../2011/11/index.html">November 2011</a></li>
                                  
                                  <li><span style="color: #84afdd;margin-right: 5px;"> > </span><a href="../../../../2011/10/index.html">October 2011</a></li>
                                  
                                  <li><span style="color: #84afdd;margin-right: 5px;"> > </span><a href="../../../../2011/07/index.html">July 2011</a></li>
                                  
                                  
                                  
                                  <li><span style="color: #84afdd;margin-right: 5px;"> > </span><a href="../../../../2011/06/index.html">June 2011</a></li>
                                  
                                  
                                  
                                  
                                  
                                  <li><span style="color: #84afdd;margin-right: 5px;"> > </span><a href="../../../../2011/02/index.html">February 2011</a></li>
                                  
                                  <li><span style="color: #84afdd;margin-right: 5px;"> > </span><a href="../../../../2011/01/index.html">January 2011</a></li>
                                  
                                  <li><span style="color: #84afdd;margin-right: 5px;"> > </span><a href="../../../12/index.html">December 2010</a></li>
                                  
                                  <li><span style="color: #84afdd;margin-right: 5px;"> > </span><a href="../../index.html">October 2010</a></li>
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  
                                  <li><span style="color: #84afdd;margin-right: 5px;"> > </span><a href="../../../09/index.html">September 2010</a></li>
                                  
                                  
                        	  <li> <span style="color: #84afdd; margin-right: 5px;"> > </span><a href="../../../../../blog/index.html">Recent entries</a></li>
                        	  <li> <span style="color: #84afdd; margin-right: 5px;"> > </span><a href="../../../../../blog/index.html">All entries</a></li>
                        	</ul>
			</div>
			<div class="name">
                            <h3 class="font-green">What's in the name?</h3>
                            <p>Starting as one <span class="font-green">small seed</span>, mustard plants quickly grow to <span class="font-green">impressive size</span>. Similarly, iMustardSoft brings your programs and web applications to launch faster, developing IT solutions that enhance your operations and get your latest product to <br/>market.</p>
                            <div class="tree"></div>
                       </div>
			
			<div class="blog_kownmore">
				<h4>Want to know more?</h4>
				<p style="padding-left:8px;">If we have piqued your interest then we'd love to hear from you.
<a href="../../../../../contact/contact-us">Contact us</a></p>
			</div>
		</div>
		<div class="clear"></div>
   </div>
	<div class="clear"></div>
		
   </div>
  </div>

  <div id="footer">
    <div class="call_to_action">
  	<div class="call_content">
			<div class="floatleft">
				<p class="big">Launch your product successfully</p>
				<p class="small">Contact iMustardsoft to see how we can build together</p>
			</div>
			<div class="floatleft">
				<a class="startnow" href="../../../../../contact/contact-us"></a>
			</div>
			<div class="floatleft">
				<p class="telephone">(347)669-3158</p>
			</div>
			<div class="clear"></div>
	</div>
  </div>
  <div class="footer">
  	<div class="footer_content">
		<div class="sitelinks floatleft" style="width:33%; padding-right:3%;">
			<h4>Site Links</h4>
			<div class="sitelinks_Menu">
				<ul class="floatleft leftmenu" >
					<li><a href="../../../../../index.html">Home</a></li>
					<li><a href="../../../../../services/how-do-we-work.html">Services</a></li>
					<li><a href="../../../../../contact/new-product-launch">New Product Launch Services</a></li>
					<li><a href="../../../../../portfolio">Portfolio</a></li>
					<li><a href="../../../../../blog/index.html">Blog</a></li>
				</ul>
				<ul class="floatright rightmenu">
					<li><a href="../../../../../people/team.html">People</a></li>
					<li><a href="../../../../../contact/contact-us">Contact Us</a></li>
					<li><a href="../../../../../contact/careers">Careers</a></li>
					<li><a href="../../../../../index.html">Privacy Policy</a></li>
					<li><a href="../../../../../people/partners.html">Terms of Service</a></li>
				</ul>
				<div class="clear"></div>
			</div>
		</div>
		<div class="footer_contact floatleft">
			<h4>Contact Us</h4>
			<p><img src="../../../../../images/icon-phone.jpg" alt="phone" /><span>(347)669-3158, (917)382-2707(Fax)</span></p>
			<p><img src="../../../../../images/icon-home.jpg" alt="home" /><span>1133 Broadway, Suite 706  New York, NY 10010</span></p>
                        <p><img src="../../../../../images/icon-email.jpg" alt="Email" /><span>Email us at info@imustardsoft.com</span></p>
<br/>
			<p>Let us help you launch your next successful product - <a href="../../../../../contact/contact-us">contact us</a> for a consultation!</p>
		</div>
		<div class="hiring floatleft" style="padding-left:4%;">
			<h4>We’re Hiring</h4>
			<p>We're looking for great product designers, developers and marketers.</p><br/>
			<p><a rel="external" href="https://github.com/imustardsoft"><img src="../../../../../images/github.gif" alt="github" /></a></p>
		</div>
		<div class="clear"></div>
          </div>
	</div>
	<div class="copyright">
		<div class="content">
			Copyright © 2011 iMustardSoft LLC | All Rights Reserved | <a href="../../../../../sitemap">Site Map</a>.
		</div>
	</div>
  </div>
 

  </body>
</html>